<div class="modal-content">
    <!-- X button -->
    <button type="button" class="btn-close position-absolute top-0 end-0 mt-3 me-3" aria-label="Close"
        (click)="activeModal.dismiss()"></button>

    <!-- FORM ĐĂNG NHẬP -->
    @if(isSignIn){
    <div class="modal-body pt-5 px-4 pb-5">
        <div class="text-center mb-4">
            <h2 class="mb-3" style="font-family: 'Sainte Colombe', serif;">Đăng nhập</h2>
            <div class="divider my-3 py-2"></div>
            <p class="text-muted small">
                Đăng nhập để lưu sản phẩm vào danh sách yêu thích, theo dõi đơn hàng và thanh toán nhanh hơn!
            </p>
        </div>

        <form (ngSubmit)="login()">
            <div class="mb-3">
                <label class="form-label small fw-medium">Số điện thoại*</label>
                <input type="tel" class="form-control" [(ngModel)]="phoneNumber" (input)="validatePhoneNumber()"
                    placeholder="Nhập số điện thoại" [class.is-invalid]="phoneError" name="phoneNumber">
                @if(phoneError){
                <div class="invalid-feedback">{{ phoneError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="password" placeholder="Nhập mật khẩu"
                    name="password" (input)="passwordError = !password ? 'Vui lòng nhập mật khẩu' : ''"
                    [class.is-invalid]="passwordError">
                @if(passwordError){
                <div class="invalid-feedback">{{ passwordError }}</div>
                }
            </div>

            <div class="form-check mb-4">
                <input class="form-check-input" type="checkbox" [(ngModel)]="rememberMe" id="keepSignedIn"
                    name="rememberMe">
                <label class="form-check-label small text-primary" for="keepSignedIn">
                    Giữ tôi luôn đăng nhập
                    <i class="fas fa-info-circle ms-1 text-muted"></i>
                </label>
            </div>

            <button type="button" class="btn btn-next w-100 mb-3" (click)="login()"
                [disabled]="phoneError || passwordError || !phoneNumber || !password">TIẾP TỤC</button>

            <div class="divider my-3 py-2"></div>

            <div class="text-center">
                <h2 class="mb-2" style="font-family: 'Sainte Colombe', serif;">Đăng ký</h2>
                <p class="text-muted small mb-3">
                    Chào mừng bạn! Tạo tài khoản nhanh chóng và dễ dàng.
                </p>
                <button type="button" class="btn btn-goto-signup w-100" (click)="switchToSignUp()">
                    TẠO TÀI KHOẢN
                </button>
            </div>
        </form>
    </div>
    }
    @else {
    <!-- FORM ĐĂNG KÝ -->
    <div class="modal-body pt-5 px-4 pb-5">
        <div class="text-center mb-4">
            <h3 class="mb-3" style="font-family: 'Sainte Colombe', serif;">Tạo tài khoản</h3>
            <div class="divider my-3 py-2"></div>
            <p class="text-muted small mb-3">
                Chào mừng đến với Dalat Hasfarm! Việc tạo tài khoản rất nhanh và đơn giản.
            </p>
        </div>

        <form (ngSubmit)="register()">
            <div class="mb-3">
                <label class="form-label small fw-medium">Họ và tên*</label>
                <input type="text" class="form-control" [(ngModel)]="fullName" placeholder="Nhập họ và tên"
                    name="fullName" (input)="validateFullName()" [class.is-invalid]="fullNameError">
                @if(fullNameError){
                <div class="invalid-feedback">{{ fullNameError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Số điện thoại*</label>
                <input type="tel" class="form-control" [(ngModel)]="phoneNumberRegister" (input)="validatePhoneNumber()"
                    placeholder="Nhập số điện thoại" [class.is-invalid]="phoneError" name="phoneNumberRegister">
                @if(phoneError){
                <div class="invalid-feedback">{{ phoneError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="passwordRegister" (input)="validatePassword()"
                    placeholder="Nhập mật khẩu" name="passwordRegister" [class.is-invalid]="passwordError">
                @if(passwordError){
                <div class="invalid-feedback">{{ passwordError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Nhập lại mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="retypePassword"
                    (input)="validateRetypePassword()" placeholder="Vui lòng nhập lại mật khẩu"
                    [class.is-invalid]="retypePasswordError" name="retypePassword">
                @if(retypePasswordError){
                <div class="invalid-feedback">{{ retypePasswordError }}</div>
                }
            </div>

            <!-- <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="keepSignedIn2">
                <label class="form-check-label small" for="keepSignedIn2">
                    Keep me signed in
                </label>
            </div> -->

            <button type="button" class="btn btn-next w-100 mb-3" (click)="register()" [disabled]="fullNameError || phoneError || passwordError || retypePasswordError ||
                       !fullName || !phoneNumberRegister || !passwordRegister || !retypePassword">NEXT</button>

            <p class="text-muted small mb-2">
                Khi tạo tài khoản, bạn đồng ý nhận email marketing từ Dalat Hasfarm để cập nhật sản phẩm mới, giảm giá,
                nội
                dung độc quyền và nhiều hơn nữa! Bạn có thể hủy đăng ký bất kỳ lúc nào. Việc tạo tài khoản không đồng
                nghĩa đăng ký nhận tin nhắn SMS.
            </p>
            <p class="text-muted small mb-3">
                Bằng cách tạo tài khoản, bạn đồng ý với
                <a href="/terms-of-service" class="text-decoration-underline">điều khoản sử dụng</a> and
                <a href="/privacy-policy" class="text-decoration-underline">chính sách bảo mật</a> của Dalat Hasfarm. Không hỗ trợ số điện thoại bàn, VoIP hoặc thuê bao trả trước. Có thể áp dụng phí nhắn tin &
                dữ liệu tiêu chuẩn. Tần suất tin nhắn có thể thay đổi. Soạn HELP để được hỗ trợ, STOP để hủy.
                <a href="/contact" class="text-decoration-underline">Liên hệ với chúng tôi</a> để biết thêm.
            </p>

            <div class="divider my-3 py-2"></div>
            <h2 class="text-center mb-2" style="font-family: 'Sainte Colombe', serif;">Đã có tài khoản?</h2>
            <button type="button" class="btn btn-goto-signin w-100" (click)="switchToSignIn()">
                ĐĂNG NHẬP
            </button>
        </form>
    </div>
    }
</div>