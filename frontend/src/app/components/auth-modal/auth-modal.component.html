<div class="modal-content">
    <!-- X button -->
    <button type="button" class="btn-close position-absolute top-0 end-0 mt-3 me-3" aria-label="Close"
        (click)="activeModal.dismiss()"></button>

    <!-- FORM ĐĂNG NHẬP -->
    @if(isSignIn){
    <div class="modal-body pt-5 px-4 pb-5">
        <div class="text-center mb-4">
            <h2 class="mb-3" style="font-family: 'Sainte Colombe', serif;">Sign In</h2>
            <div class="divider my-3 py-2"></div>
            <p class="text-muted small">
                Sign in so you can save items to your wishlists, track your orders, and check out faster!
            </p>
        </div>

        <form (ngSubmit)="login()">
            <div class="mb-3">
                <label class="form-label small fw-medium">Số điện thoại*</label>
                <input type="tel" class="form-control" [(ngModel)]="phoneNumber" (input)="validatePhoneNumber()"
                    placeholder="Nhập số điện thoại" [class.is-invalid]="phoneError" name="phoneNumber">
                @if(phoneError){
                <div class="invalid-feedback">{{ phoneError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="password" placeholder="Nhập mật khẩu"
                    name="password" (input)="passwordError = !password ? 'Vui lòng nhập mật khẩu' : ''"
                    [class.is-invalid]="passwordError">
                @if(passwordError){
                <div class="invalid-feedback">{{ passwordError }}</div>
                }
            </div>

            <div class="form-check mb-4">
                <input class="form-check-input" type="checkbox" [(ngModel)]="rememberMe" id="keepSignedIn"
                    name="rememberMe">
                <label class="form-check-label small text-primary" for="keepSignedIn">
                    Keep me signed in
                    <i class="fas fa-info-circle ms-1 text-muted"></i>
                </label>
            </div>

            <button type="button" class="btn btn-next w-100 mb-3" (click)="login()"
                [disabled]="phoneError || passwordError || !phoneNumber || !password">NEXT</button>

            <div class="divider my-3 py-2"></div>

            <div class="text-center">
                <h2 class="mb-2" style="font-family: 'Sainte Colombe', serif;">Sign Up</h2>
                <p class="text-muted small mb-3">
                    Welcome! It's quick and easy to set up an account
                </p>
                <button type="button" class="btn btn-goto-signup w-100" (click)="switchToSignUp()">
                    CREATE AN ACCOUNT
                </button>
            </div>
        </form>
    </div>
    }
    @else {
    <!-- FORM ĐĂNG KÝ -->
    <div class="modal-body pt-5 px-4 pb-5">
        <div class="text-center mb-4">
            <h3 class="mb-3" style="font-family: 'Sainte Colombe', serif;">Create An Account</h3>
            <div class="divider my-3 py-2"></div>
            <p class="text-muted small mb-3">
                Welcome to Terrain! It's quick and easy to set up an account.
            </p>
        </div>

        <form (ngSubmit)="register()">
            <div class="mb-3">
                <label class="form-label small fw-medium">Họ và tên*</label>
                <input type="text" class="form-control" [(ngModel)]="fullName" placeholder="Nhập họ và tên"
                    name="fullName" (input)="validateFullName()" [class.is-invalid]="fullNameError">
                @if(fullNameError){
                <div class="invalid-feedback">{{ fullNameError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Số điện thoại*</label>
                <input type="tel" class="form-control" [(ngModel)]="phoneNumberRegister" (input)="validatePhoneNumber()"
                    placeholder="Nhập số điện thoại" [class.is-invalid]="phoneError" name="phoneNumberRegister">
                @if(phoneError){
                <div class="invalid-feedback">{{ phoneError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="passwordRegister"
                    (input)="validatePassword()" placeholder="Nhập mật khẩu" name="passwordRegister"
                    [class.is-invalid]="passwordError">
                @if(passwordError){
                <div class="invalid-feedback">{{ passwordError }}</div>
                }
            </div>
            <div class="mb-3">
                <label class="form-label small fw-medium">Nhập lại mật khẩu*</label>
                <input type="password" class="form-control" [(ngModel)]="retypePassword"
                    (input)="validateRetypePassword()" placeholder="Vui lòng nhập lại mật khẩu"
                    [class.is-invalid]="retypePasswordError" name="retypePassword">
                @if(retypePasswordError){
                <div class="invalid-feedback">{{ retypePasswordError }}</div>
                }
            </div>

            <!-- <div class="form-check mb-3">
                <input class="form-check-input" type="checkbox" id="keepSignedIn2">
                <label class="form-check-label small" for="keepSignedIn2">
                    Keep me signed in
                </label>
            </div> -->

            <button type="button" class="btn btn-next w-100 mb-3" (click)="register()" [disabled]="fullNameError || phoneError || passwordError || retypePasswordError ||
                       !fullName || !phoneNumberRegister || !passwordRegister || !retypePassword">NEXT</button>

            <p class="text-muted small mb-2">
                By creating an account, you agree to receive Terrain marketing emails to get first dibs on new
                arrivals, sales, exclusive content and more! You may unsubscribe at any time. Creating an
                account will not enroll you in SMS marketing.
            </p>
            <p class="text-muted small mb-3">
                By creating an account, you agree to Terrain's
                <a href="#" class="text-decoration-underline">terms of use</a> and
                <a href="#" class="text-decoration-underline">privacy policy</a>. Landlines, VoIP, and prepaid phones
                are not supported. Standard message & data rates may apply. Message frequency may vary. Reply
                HELP for help, and STOP to cancel.
                <a href="#" class="text-decoration-underline">Contact us</a> for more information.
            </p>

            <div class="divider my-3 py-2"></div>
            <h2 class="text-center mb-2" style="font-family: 'Sainte Colombe', serif;">Already Have an Account?</h2>
            <button type="button" class="btn btn-goto-signin w-100" (click)="switchToSignIn()">
                SIGN IN
            </button>
        </form>
    </div>
    }
</div>